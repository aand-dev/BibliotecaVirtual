<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0">
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Expires" content="0">

    <title th:text="${titulo}"></title>
    <link rel="stylesheet" href="/webjars/bootstrap/5.3.0/css/bootstrap.min.css" />
	<link rel="stylesheet" th:href="@{/css/jquery-ui.min.css}" />
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg bg-ligth border-bottom">
			<a class="navbar-brand" href="/">
				<img th:src="@{/images/logo2.png}" height="30" alt="logo">
			  </a>
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarNav" aria-controls="navbarNav"
				aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav">
					<li class="nav-item active">
                        <a class="nav-link" href="#">Nuevo
							<span class="sr-only"></span>
					    </a>
                    </li>

					<li class="nav-item"><a class="nav-link" href="#">Categorías</a>
					</li>

					<li class="nav-item"><a class="nav-link" th:href="@{/listar}">Usuarios</a>
					</li>
				</ul>
			</div>

			<div class="container-fluid justify-content-end">
				<form action="#" th:action="@{/buscarLibros}" method="get" class="d-flex" role="search">
				  <input class="form-control me-2 w-100" type="search" name="q" placeholder="Busca por titulo o autor" aria-label="Search">
				  <button class="btn btn-outline-dark" type="submit">Buscar</button>
				</form>
			  </div>

			  <div class="container container-fluid justify-content-end">

				<div class="ml-auto px-4">
					<div><span id="mensaje-bienvenida" th:if="${session.usuario}" th:text="'Bienvenido, ' + ${session.usuario.nombre}"></span></div>
					
					<a th:if="${session.usuario}" th:href="@{/logout}">Cerrar sesión</a>

				<ul class="list-unstyled navbar-nav ml-auto d-flex">
				</div>

				  <li class="nav-item d-flex">
					<a th:href="@{/login}" class="nav-link mx-2">
					  <img height="24px" width="24px" th:src="@{/icons/user.png}"/>
					</a>
				  </li>
				  <li class="nav-item d-flex">
					<a th:href="@{/cart}" class="nav-link mx-4">
					  <img height="24px" width="24px" th:src="@{/icons/cart.png}"/>
					</a>
				  </li>
				</ul>
			  </div>
					
		</nav>

    </header>

    <div class="container"></div>
	
	<footer th:fragment="footer" class="container">
		<script th:src="@{/js/jquery-3.3.1.min.js}"></script>
		<script th:src="@{/js/popper.min.js}"></script>
		<script th:src="@{/js/bootstrap.min.js}"></script>
		<script th:src="@{/js/jquery-ui.min.js}"></script>
	</footer>
    
</body>
</html>